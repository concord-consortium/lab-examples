---
layout: default
title: Multiple Model Interactives
description: |
  Demonstrates how to use 'modelLoaded' to handle multiple models within a single
  Lab interactive
---
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="http://concord-consortium.github.io/iframe-phone/dist/iframe-phone.js"></script>
<p>
The interactive has a checkbox 'show interactions', this checkbox is bound to the 'showVDWLines' property.
This page observes the 'showVDWLines' property, and displays the current value above the interactive.
This page also has links for showing or hiding the interactions. They work by setting the 'showVDWLines'
property.
These two features continue to work even after the model is switched from 'Gas 1' to 'Gas 2'.
</p>
<div>
  Current value of 'show interactions':<span id="showing-interactions-value">unknown</span>
</div>
<div>
  <a id="show-interactions">Show Interactions</a> | <a id="hide-interactions">Hide Interactions</a>
</div>
<iframe id="interactive-iframe" width="565px" height="435px"
        frameborder="no" scrolling="no" allowfullscreen="true"
        webkitallowfullscreen="true" mozallowfullscreen="true"
        src="http://lab.concord.org/embeddable.html#interactives/itsi/states-of-matter/atomic-movement-in-gases.json">
</iframe>
<script>
  // call this function when jQuery thinks the page is ready
  $(function(){
    // Intitialization
    var interactive = new iframePhone.ParentEndpoint($('#interactive-iframe')[0]);

    // handle links for showing and hiding interactions
    $('#show-interactions').click(function(){
      interactive.post('set', { name: 'showVDWLines', value: true });
    })
    $('#hide-interactions').click(function(){
      interactive.post('set', { name: 'showVDWLines', value: false });
    });

    interactive.addListener('propertyValue', function(result){
      if(result.name == 'showVDWLines') {
        $('#showing-interactions-value').html("" + result.value);
      }
    });

    interactive.addListener('modelLoaded', function() {
      // tell the interactive we want to observe the selectedTemperature property
      interactive.post('observe', 'showVDWLines');
    });
  });
</script>
